<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tundra Gourmet - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0b5c56">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Tundra Admin">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Touch Icons -->
    <meta name="apple-touch-icon" content="images/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/icon-192.png">
    
    <link rel="stylesheet" href="admin-style.css">
</head>
<body>
    <div class="admin-container">
        <!-- üì± –ú–û–ë–ò–õ–¨–ù–´–ô –•–ï–î–ï–† -->
        <div class="mobile-header">
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1>Tundra Admin</h1>
        </div>

        <!-- üì± –ú–û–ë–ò–õ–¨–ù–û–ï –ú–ï–ù–Æ -->
        <div class="mobile-menu" id="mobile-menu">
            <div class="mobile-menu-content">
                <div class="mobile-stats">
                    <div class="mobile-stat">
                        <div class="stat-value" id="mobile-total-products">0</div>
                        <div class="stat-label">–¢–æ–≤–∞—Ä–æ–≤</div>
                    </div>
                    <div class="mobile-stat">
                        <div class="stat-value" id="mobile-available-products">0</div>
                        <div class="stat-label">–í –Ω–∞–ª–∏—á–∏–∏</div>
                    </div>
                    <div class="mobile-stat">
                        <div class="stat-value" id="mobile-hidden-products">0</div>
                        <div class="stat-label">–°–∫—Ä—ã—Ç–æ</div>
                    </div>
                </div>
                <div class="mobile-search">
                    <input type="text" id="mobile-search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="filterProducts()">
                </div>
                <div class="mobile-filters">
                    <button class="mobile-filter-btn active" onclick="filterByStatus('all')">–í—Å–µ</button>
                    <button class="mobile-filter-btn" onclick="filterByStatus('available')">–í –Ω–∞–ª–∏—á–∏–∏</button>
                    <button class="mobile-filter-btn" onclick="filterByStatus('hidden')">–°–∫—Ä—ã—Ç–æ</button>
                </div>
            </div>
        </div>

        <!-- –î–ï–°–ö–¢–û–ü–ù–´–ô –ó–ê–ì–û–õ–û–í–û–ö -->
        <header class="admin-header desktop-only">
            <h1>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å Tundra Gourmet</h1>
            <div class="admin-stats">
                <div class="stat">
                    <div class="stat-value" id="total-products">0</div>
                    <div class="stat-label">–¢–æ–≤–∞—Ä–æ–≤</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="available-products">0</div>
                    <div class="stat-label">–í –Ω–∞–ª–∏—á–∏–∏</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="hidden-products">0</div>
                    <div class="stat-label">–°–∫—Ä—ã—Ç–æ</div>
                </div>
            </div>
        </header>

        <!-- –î–ï–°–ö–¢–û–ü–ù–ê–Ø –ü–ê–ù–ï–õ–¨ –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í -->
        <div class="admin-toolbar desktop-only">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="filterProducts()">
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" onclick="filterByStatus('all')">–í—Å–µ</button>
                <button class="filter-btn" onclick="filterByStatus('available')">–í –Ω–∞–ª–∏—á–∏–∏</button>
                <button class="filter-btn" onclick="filterByStatus('hidden')">–°–∫—Ä—ã—Ç–æ</button>
            </div>
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="showTab('products')">–¢–æ–≤–∞—Ä—ã</button>
                <button class="tab-btn" onclick="showTab('categories')">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
                <button class="tab-btn" onclick="showTab('promocodes')">–ü—Ä–æ–º–æ–∫–æ–¥—ã</button>
            </div>
        </div>

        <div class="categories-container" id="categories-container">
            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
        <div class="categories-management" id="categories-management" style="display: none;">
            <div class="management-header">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h2>
                <p>–°–∫—Ä—ã–≤–∞–π—Ç–µ –ø—É—Å—Ç—ã–µ –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>
            </div>
            <div class="categories-list" id="categories-list">
                <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ -->
        <div class="promo-management" id="promo-management" style="display: none;">
            <div class="management-header">
                <h2>–ü—Ä–æ–º–æ–∫–æ–¥—ã</h2>
                <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ –¥–ª—è –∞–∫—Ü–∏–π</p>
            </div>
            <div class="promo-layout">
                <div class="promo-form-card">
                    <h3 id="promo-form-title">–ù–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥</h3>
                    <form id="promo-form">
                        <input type="hidden" id="promo-id">
                        <div class="form-group">
                            <label for="promo-code">–ö–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–∞</label>
                            <input type="text" id="promo-code" maxlength="100" placeholder="–ù–û–í–´–ô2026–ì–û–î" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="promo-type">–¢–∏–ø —Å–∫–∏–¥–∫–∏</label>
                                <select id="promo-type" required>
                                    <option value="percent">–ü—Ä–æ—Ü–µ–Ω—Ç</option>
                                    <option value="fixed">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞</option>
                                    <option value="free_delivery">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</option>
                                </select>
                            </div>
                            <div class="form-group" id="promo-value-group">
                                <label for="promo-value">–ó–Ω–∞—á–µ–Ω–∏–µ</label>
                                <input type="number" id="promo-value" min="1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="promo-max-uses">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                                <input type="number" id="promo-max-uses" min="1" value="1">
                            </div>
                            <div class="form-group">
                                <label for="promo-active">
                                    <input type="checkbox" id="promo-active">
                                    –ê–∫—Ç–∏–≤–µ–Ω
                                </label>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="promo-starts-at">–°—Ç–∞—Ä—Ç</label>
                                <input type="datetime-local" id="promo-starts-at">
                            </div>
                            <div class="form-group">
                                <label for="promo-expires-at">–û–∫–æ–Ω—á–∞–Ω–∏–µ</label>
                                <input type="datetime-local" id="promo-expires-at">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="promo-description">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <textarea id="promo-description" rows="2" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ü–∏–∏ –∏–ª–∏ —É—Å–ª–æ–≤–∏–π"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn secondary" onclick="resetPromoForm()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                            <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </div>
                    </form>
                </div>
                <div class="promo-list-card">
                    <div class="promo-list-header">
                        <h3>–°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</h3>
                        <button class="btn secondary" onclick="resetPromoForm()">–ù–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥</button>
                    </div>
                    <div class="promo-list" id="promo-list">
                        <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
        <div id="add-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h3>
                    <button class="modal-close" onclick="closeAddModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <form id="add-form">
                        <div class="form-group">
                            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="add-category" required disabled>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ID —Ç–æ–≤–∞—Ä–∞:</label>
                            <input type="text" id="add-id" required placeholder="product-name-id">
                            <small>–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã)</small>
                        </div>
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                            <input type="text" id="add-name" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
                        </div>
                        <div class="form-group">
                            <label>–¶–µ–Ω–∞:</label>
                            <input type="number" id="add-price" required min="1" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label>–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                            <input type="text" id="add-unit" required placeholder="/100 –≥—Ä.">
                        </div>
                        <div class="form-group">
                            <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                            <input type="number" id="add-maxQty" required min="1" value="10">
                        </div>
                        <div class="form-group">
                            <label>–≠–º–æ–¥–∑–∏:</label>
                            <input type="text" id="add-image" maxlength="2" placeholder="üçñ">
                        </div>
                        <div class="form-group">
                            <label>–ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é:</label>
                            <input type="text" id="add-imageUrl" placeholder="images/products/category/product.jpg">
                        </div>
                        <div class="form-group">
                            <label>–°–æ—Å—Ç–∞–≤:</label>
                            <textarea id="add-composition" rows="3" placeholder="–°–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–∞..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:</label>
                            <textarea id="add-nutrition" rows="2" placeholder="–ë–µ–ª–∫–∏, –∂–∏—Ä—ã, —É–≥–ª–µ–≤–æ–¥—ã..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å:</label>
                            <input type="text" id="add-calories" placeholder="250 –∫–∫–∞–ª/1046 –∫–î–∂">
                        </div>
                        <div class="form-group">
                            <label>–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:</label>
                            <input type="text" id="add-storage" placeholder="180 —Å—É—Ç–æ–∫">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="add-available" checked>
                                <span class="checkmark"></span>
                                –¢–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn secondary" onclick="closeAddModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn primary" onclick="addNewProduct()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
        <div id="edit-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h3>
                    <button class="modal-close" onclick="closeEditModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <form id="edit-form">
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                            <input type="text" id="edit-name" required>
                        </div>
                        <div class="form-group">
                            <label>–¶–µ–Ω–∞:</label>
                            <input type="number" id="edit-price" required>
                        </div>
                        <div class="form-group">
                            <label>–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                            <input type="text" id="edit-unit" required>
                        </div>
                        <div class="form-group">
                            <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                            <input type="number" id="edit-maxQty" required>
                        </div>
                        <div class="form-group">
                            <label>–≠–º–æ–¥–∑–∏:</label>
                            <input type="text" id="edit-image" maxlength="2">
                        </div>
                        <div class="form-group">
                            <label>–ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é:</label>
                            <input type="text" id="edit-imageUrl">
                        </div>
                        <div class="form-group">
                            <label>–°–æ—Å—Ç–∞–≤:</label>
                            <textarea id="edit-composition" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:</label>
                            <textarea id="edit-nutrition" rows="2"></textarea>
                        </div>
                        <div class="form-group">
                            <label>–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:</label>
                            <input type="text" id="edit-storage">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="edit-available">
                                <span class="checkmark"></span>
                                –¢–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn secondary" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn primary" onclick="saveProduct()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="admin-notification" class="admin-notification"></div>
    </div>

    <script src="admin-script.js"></script>
</body>
</html>
